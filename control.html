<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Captain's Quest: Maritime Merchant</title>
  <script src="jspsych/jspsych.js"></script>
  <script>
    // Initialize jsPysch object
    let jsPsych = initJsPsych({
      display_element: 'display_element',
      on_finish: function () {
        jsPsych.data.displayData('json');
      }
    });
    // window.sessionNum = jsPsych.data.getURLVariable('session_num');
    // window.prolificPID = jsPsych.data.getURLVariable('PROLIFIC_PID');
    // window.debug = prolificPID.includes("debug");
  </script>
  <script src="jspsych/plugin-html-keyboard-response.js"></script>
  <script src="jspsych/plugin-html-button-response.js"></script>
  <script src="jspsych/plugin-instructions.js"></script>
  <script src="jspsych/plugin-preload.js"></script>
  <script src="jspsych/plugin-fullscreen.js"></script>
  <script src="utils.js"></script>
  <script src="control_instructions.js"></script>
  <script src="control.js"></script>
  <script src="control_instructions.js"></script>
  <link href="jspsych/jspsych.css" rel="stylesheet" type="text/css" />
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link href="instruction_style.css" rel="stylesheet" type="text/css" />
</head>
<style>
  .jsPsychDE {
    position: absolute;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
  }
</style>

<body>
  <div id='display_element' class='jsPsychDE'></div>
</body>
<script>
  // Add the comparison task to the main experiment timeline
  const preload = {
    type: jsPsychPreload,
    images: [
      "ocean.png",
      "island_banana.png",
      "island_coconut.png",
      "island_grape.png",
      "island_orange.png",
      "ship_blue.png",
      "ship_green.png",
      "ship_red.png",
      "ship_yellow.png",
      "left.png"
    ].map(s => "imgs/" + s),
    post_trial_gap: 800,
    continue_after_error: true
  };
  const ctrlTimeline = [
    preload,
    ...expTimeline
];
  addInstructionsToTimeline(ctrlTimeline);
  // Run or simulate the experiment
  // jsPsych.simulate(ctrlTimeline, "visual");
  jsPsych.run(ctrlTimeline);
</script>

</html>